<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>限时访问页面</title>
    
    <!-- 防截图设置 -->
    <style>
        /* 禁止选择和复制 */
        * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-text-size-adjust: none;
        }
        
        /* 禁用打印 */
        @media print {
            html, body {
                display: none !important;
            }
        }
        
        /* 禁用右键菜单 */
        body {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* 图片容器样式 */
        .image-container {
            text-align: center;
            margin-top: 50px;
        }
        
        .image-container img {
            max-width: 90%;
            height: auto;
            pointer-events: none;
        }
        
        /* 过期提示样式 */
        .expired-message {
            display: none;
            text-align: center;
            font-size: 24px;
            color: red;
            margin-top: 200px;
            font-family: Arial, sans-serif;
        }
        
        /* 页面样式 */
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
    </style>
    
    <script>
        // 禁止右键菜单
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        
        // 禁止F12和其他开发者工具快捷键
        document.addEventListener('keydown', function(e) {
            // F12
            if (e.key === 'F12') {
                e.preventDefault();
            }
            // Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U
            if ((e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J')) || 
                (e.ctrlKey && e.key === 'u')) {
                e.preventDefault();
            }
            // Print Screen
            if (e.key === 'PrintScreen') {
                e.preventDefault();
                alert('截图功能已禁用');
            }
        });
        
        // 检查是否为首次访问
        function checkFirstVisit() {
            if (localStorage.getItem('visited')) {
                // 不是首次访问
                document.getElementById('content').style.display = 'none';
                document.getElementById('expired').style.display = 'block';
                return false;
            } else {
                // 首次访问
                localStorage.setItem('visited', 'true');
                return true;
            }
        }
        
        // 页面加载完成后执行
        window.onload = function() {
            if (checkFirstVisit()) {
                // 2秒后自动刷新
                setTimeout(function() {
                    location.reload();
                }, 2000);
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <div id="content">
            <h1 style="text-align: center;">限时预览内容</h1>
            <p style="text-align: center; color: #666;">这是您首次访问此页面，2秒后将自动刷新</p>
            
            <div class="image-container">
                <img src="1.jpg" alt="限时图片" oncontextmenu="return false;">
            </div>
            
            <p style="text-align: center; color: #999; font-size: 14px; margin-top: 20px;">
                注意：此页面禁止截图和保存
            </p>
        </div>
        
        <div id="expired" class="expired-message">
            <h2>页面已过期</h2>
            <p>您已经访问过此页面，内容不再可用。</p>
        </div>
    </div>
    
    <!-- 额外的防截图层 -->
    <div id="overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
         background: rgba(0,0,0,0.8); color: white; text-align: center; z-index: 9999;">
        <h1 style="margin-top: 40vh;">截图保护已激活</h1>
    </div>
    
    <script>
        // 鼠标离开页面时显示覆盖层
        document.addEventListener('mouseleave', function() {
            document.getElementById('overlay').style.display = 'block';
        });
        
        // 鼠标回到页面时隐藏覆盖层
        document.addEventListener('mouseenter', function() {
            document.getElementById('overlay').style.display = 'none';
        });
        
        // 防止拖拽图片
        document.querySelectorAll('img').forEach(img => {
            img.addEventListener('dragstart', e => e.preventDefault());
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>🔥💀 究极疯狂病院 2.0 💀🔥</title>
    <style>
        /* 保留之前的样式，下面只列出新加的 */
        body{
            /* 新增：鼠标轨迹 */
            background-image:
                radial-gradient(circle at var(--x,50%) var(--y,50%), 
                                rgba(255,255,255,.25) 0%, 
                                transparent 50%);
            background-size: 200% 200%;
            overflow: hidden;
        }

        /* 新增：满屏闪烁网格 */
        .grid-line{
            position: absolute;
            background: #0f0;
            animation: blink .2s infinite;
        }
        @keyframes blink{
            0%,100%{opacity:0}
            50%{opacity:1}
        }

        /* 新增：弹出式鬼脸 */
        .jump-scare{
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="90">👻</text></svg>') center/40% no-repeat black;
            display: none;
            animation: flash .3s steps(2,end) 3;
            z-index: 9999;
        }
        @keyframes flash{
            0%,100%{opacity:0}
            50%{opacity:1}
        }

        /* 新增：会跟着鼠标走的文字尾巴 */
        .tail-char{
            position: absolute;
            pointer-events: none;
            font-size: 2rem;
            animation: fadeOut .8s forwards;
        }
        @keyframes fadeOut{
            to{transform:scale(2) rotate(720deg); opacity:0}
        }

        /* 新增：屏幕撕裂效果 */
        .tear{
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent 0 2px,
                black 2px 4px
            );
            mix-blend-mode: difference;
            animation: tearMove .2s infinite linear;
            pointer-events: none;
        }
        @keyframes tearMove{
            0%{transform:translateY(0)}
            100%{transform:translateY(10px)}
        }

        /* 新增：滚动条也疯狂 */
        ::-webkit-scrollbar{
            width: 20px;
            background: linear-gradient(to bottom, red, orange, yellow, green, cyan, blue, purple);
        }
        ::-webkit-scrollbar-thumb{
            background: white;
            border-radius: 50%;
            animation: spin .5s linear infinite;
        }

        /* 新增：全屏色块爆炸 */
        .color-burst{
            position: fixed;
            top: 50%; left: 50%;
            width: 10px; height: 10px;
            background: currentColor;
            border-radius: 50%;
            transform: translate(-50%,-50%);
            animation: burst .6s ease-out forwards;
            z-index: 9998;
        }
        @keyframes burst{
            to{
                width: 300vmax;
                height: 300vmax;
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <!-- 原来的内容全部保留 -->
    <!-- … 这里放之前的 HTML … -->

    <!-- 新增元素 -->
    <div class="jump-scare" id="jumpScare"></div>
    <div class="tear"></div>

    <script>
    /* ---------- 鼠标轨迹 ---------- */
    document.addEventListener('mousemove', e=>{
        document.documentElement.style.setProperty('--x', e.clientX + 'px');
        document.documentElement.style.setProperty('--y', e.clientY + 'px');
    });

    /* ---------- 满屏网格 ---------- */
    const grid = ()=>{
        for(let i=0;i<20;i++){
            const h = document.createElement('div');
            h.className='grid-line';
            h.style.width='100%'; h.style.height='1px';
            h.style.top = (i*5)+'vh';
            document.body.appendChild(h);

            const v = document.createElement('div');
            v.className='grid-line';
            v.style.height='100%'; v.style.width='1px';
            v.style.left = (i*5)+'vw';
            document.body.appendChild(v);
        }
    };
    grid();

    /* ---------- 随机鬼脸闪现 ---------- */
    const scare = ()=> {
        const js = document.getElementById('jumpScare');
        js.style.display='block';
        setTimeout(()=> js.style.display='none', 900);
    };
    setInterval(scare, 6000);

    /* ---------- 鼠标文字尾巴 ---------- */
    const trail = (e)=>{
        const chars = ['💥','🤡','🔥','💀','😱','⚡'];
        const span = document.createElement('span');
        span.className='tail-char';
        span.textContent = chars[Math.floor(Math.random()*chars.length)];
        span.style.left = e.clientX+'px';
        span.style.top  = e.clientY+'px';
        document.body.appendChild(span);
        setTimeout(()=>span.remove(),800);
    };
    document.addEventListener('mousemove', trail);

    /* ---------- 点击爆浆 ---------- */
    document.addEventListener('click', (e)=>{
        const burst = document.createElement('div');
        burst.className='color-burst';
        burst.style.color = ['red','lime','cyan','yellow','magenta'][Math.floor(Math.random()*5)];
        burst.style.left = e.clientX+'px';
        burst.style.top  = e.clientY+'px';
        document.body.appendChild(burst);
        setTimeout(()=>burst.remove(),600);
    });

    /* ---------- 键盘彩虹雨 ---------- */
    document.addEventListener('keydown', e=>{
        const drop = document.createElement('div');
        drop.textContent = e.key;
        drop.style.position='fixed';
        drop.style.left = (Math.random()*100)+'vw';
        drop.style.top = '-50px';
        drop.style.fontSize='3rem';
        drop.style.color='white';
        drop.style.textShadow='0 0 10px currentColor';
        drop.style.animation='fall 2s linear forwards';
        document.body.appendChild(drop);
        setTimeout(()=>drop.remove(),2000);
    });
    </script>
</body>
</html>
